<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Attribution Calculator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- Left Panel -->
        <div class="left-panel">
            <!-- Channel Configuration (Top) -->
            <div class="config-section">
                <div class="section-header">
                    <span class="icon">‚öôÔ∏è</span>
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–ª–ª–æ–≤ (CONFIG)</h2>
                </div>

                <div class="channels-grid" id="channelsGrid">
                    <!-- Channels will be dynamically generated -->
                </div>
            </div>

            <!-- Customer Journey (Bottom) -->
            <div class="journey-section">
                <div class="section-header">
                    <span class="icon">üìà</span>
                    <h2>–ü—É—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</h2>
                    <button class="clear-btn" id="clearJourney">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>

                <div class="journey-path" id="journeyPath">
                    <div class="empty-state">
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª—ã –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ, —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</p>
                    </div>
                </div>

                <div class="total-score">
                    <span>Effective Total Score:</span>
                    <span class="score-value" id="totalScore">0</span>
                </div>
            </div>
        </div>

        <!-- Right Panel - Attribution Results -->
        <div class="right-panel">
            <div class="results-header">
                <span class="icon">üìä</span>
                <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ê—Ç—Ä–∏–±—É—Ü–∏–∏</h1>
            </div>

            <!-- Weighted Score Model -->
            <div class="attribution-model">
                <div class="model-header">
                    <span class="icon-bar">üìä</span>
                    <div>
                        <h3>–í–∞—à–∞ –º–æ–¥–µ–ª—å (Weighted Score)</h3>
                        <p class="model-subtitle">–î–æ–ª—è = –ë–∞–ª–ª –∫–∞–Ω–∞–ª–∞ / –°—É–º–º–∞ –±–∞–ª–ª–æ–≤</p>
                    </div>
                </div>

                <div class="results-list" id="weightedResults">
                    <!-- Results will be dynamically generated -->
                </div>
            </div>

            <!-- U-Shape Model -->
            <div class="attribution-model">
                <div class="model-header">
                    <span class="icon-bar">üèîÔ∏è</span>
                    <div>
                        <h3>U-Shape (Position Based)</h3>
                        <p class="model-subtitle">40% –ü–µ—Ä–≤–æ–º—É / 40% –ü–æ—Å–ª–µ–¥–Ω–µ–º—É / 20% –°–µ—Ä–µ–¥–∏–Ω–µ</p>
                    </div>
                </div>

                <div class="results-list" id="ushapeResults">
                    <!-- Results will be dynamically generated -->
                </div>
            </div>

            <!-- Last Touch Model -->
            <div class="attribution-model">
                <div class="model-header">
                    <span class="icon-bar">üëÜ</span>
                    <div>
                        <h3>Last Touch</h3>
                        <p class="model-subtitle">100% –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∫–∞–Ω–∞–ª—É</p>
                    </div>
                </div>

                <div class="results-list" id="lastTouchResults">
                    <!-- Results will be dynamically generated -->
                </div>
            </div>

            <!-- First Touch Model -->
            <div class="attribution-model">
                <div class="model-header">
                    <span class="icon-bar">üéØ</span>
                    <div>
                        <h3>First Touch</h3>
                        <p class="model-subtitle">100% –ø–µ—Ä–≤–æ–º—É –∫–∞–Ω–∞–ª—É</p>
                    </div>
                </div>

                <div class="results-list" id="firstTouchResults">
                    <!-- Results will be dynamically generated -->
                </div>
            </div>

            <!-- Attribution Insights -->
            <div class="attribution-insights" id="attributionInsights">
                <!-- Insights will be dynamically generated -->
            </div>
        </div>
    </div>

    <!-- Simulation Dashboard Section -->
    <div class="simulation-section">
        <div class="simulation-header">
            <h2>ü§ñ –°–∏–º—É–ª—è—Ü–∏—è –î–∞–Ω–Ω—ã—Ö (AI Model)</h2>
            <p>–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ 8,000 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫ —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É "Navigation Bias"</p>
        </div>

        <div class="simulation-controls">
            <button id="runSimulationBtn" class="primary-btn pulse-btn">
                <span class="icon">üöÄ</span> –ó–∞–ø—É—Å—Ç–∏—Ç—å –°–∏–º—É–ª—è—Ü–∏—é
            </button>
            <div class="sim-settings">
                <label>
                    <span class="icon">‚è±Ô∏è</span> –ü–æ—Ä–æ–≥ –≤—Ä–µ–º–µ–Ω–∏ (Stories):
                    <input type="number" id="simThreshold" value="60" min="0" max="300" step="10"> —Å–µ–∫
                </label>
            </div>
        </div>

        <div id="simulationResults" class="simulation-results hidden">
            <div class="metrics-grid">
                <div class="metric-card negative">
                    <h3>Stories (Legacy)</h3>
                    <div class="metric-value" id="legacyStories">0</div>
                    <div class="metric-label">Last Touch Model</div>
                </div>
                <div class="metric-arrow">‚¨áÔ∏è <span id="storiesDiff">0%</span></div>
                <div class="metric-card positive">
                    <h3>Stories (Smart)</h3>
                    <div class="metric-value" id="smartStories">0</div>
                    <div class="metric-label">Smart Model</div>
                </div>
            </div>

            <div class="chart-container">
                <canvas id="simChart"></canvas>
            </div>

            <div class="insight-box">
                <p>üìâ <strong>–ò–Ω—Å–∞–π—Ç:</strong> –£–º–Ω–∞—è –º–æ–¥–µ–ª—å –æ—Ç—Å–µ—è–ª–∞ <span id="filteredCount" class="highlight">0</span>
                    –∫–æ–Ω–≤–µ—Ä—Å–∏–π, –≥–¥–µ Stories –±—ã–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π (–º–µ–Ω–µ–µ <span id="thresholdDisplay">60</span> —Å–µ–∫).</p>
            </div>
        </div>
    </div>

    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js?v=1.2" defer></script>
</body>

</html>